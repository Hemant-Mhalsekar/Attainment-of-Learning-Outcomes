<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Attainment of Learning Outcomes</title>
    <link rel="icon" type="image/x-icon" href="img/DMClogoicon.ico" />
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.15/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="normalize.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.16.9/xlsx.full.min.js"></script>
    <script src="script.js" defer></script>
  </head>

  <body class="bg-gray-100">
    <div
      id="toast"
      class="hidden fixed flex items-center w-full max-w-xs p-4 space-x-4 text-white bg-red-500 divide-x divide-gray-200 rounded-lg shadow top-5 right-5 dark:text-gray-400 dark:divide-gray-700 space-x dark:bg-gray-800 fade-in-right"
      role="alert"
    >
      Toast Message
    </div>
    <div class="flex justify-center">
      <img src="img/LogoHeader.png" alt="DMCLogoHeader" class="w-1/2 mx-auto" />
    </div>
    <div class="flex justify-center items-center my-8">
      <h1 class="font-bold uppercase text-center text-black mb-4">
        Attainment Of Course & Program Outcome
      </h1>
    </div>

    <div>
      <div class="flex justify-center items-center" id="entireform">
        <div
          class="w-full p-8 my-4 md:px-12 lg:w-9/12 lg:pl-20 lg:pr-40 mx-auto shadow-2xl rounded-2xl bg-white"
        >
          <div class="flex justify-center items-center">
            <h1 class="font-bold uppercase text-5xl" style="color: #007bff">
              Course Details
            </h1>
          </div>
          <br /><br />
          <label style="display: inline; font-size: 16px">
            <img
              src="img/icons8-info-24.png"
              alt="Information"
              style="display: inline; vertical-align: middle"
            />
            Enter course details </label
          ><br />
          <form id="Form1">
            <div class="grid gap-5 md:grid-cols-2 mt-5">
              <div>
                <label for="courseName">1. Name of Course:</label>
                <input
                  class="w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline"
                  type="text"
                  id="courseName"
                  name="courseName"
                  required
                  placeholder="Ex. BCA"
                />
              </div>
              <div>
                <label for="category">2. Name of category:</label>
                <input
                  class="w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline"
                  type="text"
                  id="category"
                  name="category"
                  required
                  placeholder="Ex. "
                />
              </div>
              <div>
                <label for="courseTeacher"
                  >3. Name of the Course Teacher:</label
                >
                <input
                  class="w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline"
                  type="text"
                  id="courseTeacher"
                  name="courseTeacher"
                  required
                  placeholder="Ex. Krishnarao Rane"
                />
              </div>

              <div>
                <label for="className">4. Name of the class:</label>
                <input
                  class="w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline"
                  type="text"
                  id="className"
                  name="className"
                  required
                  placeholder="Ex."
                />
              </div>

              <div>
                <label for="totalStudents">5. Number of Students:</label>
                <input
                  class="w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline"
                  type="number"
                  id="totalStudents"
                  name="totalStudents"
                  required
                  placeholder="Ex. 60"
                />
              </div>

              <div>
                <label for="targetPercentage">6. Total Marks:</label>
                <input
                  class="w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline"
                  type="number"
                  id="targetPercentage"
                  name="targetPercentage"
                  required
                  placeholder="Ex. 80"
                />
              </div>
            </div>
            <div class="my-2 w-1/2 lg:w-1/4 mx-auto">
              <button
                onclick="displayFormData()"
                class="uppercase text-sm font-bold tracking-wide bg-blue-900 text-gray-100 p-3 rounded-lg w-full hover:bg-blue-700 focus:outline-none focus:shadow-outline mt-5"
                type="button"
              >
                Confirm
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div
      id="formDataDisplay"
      class="hidden w-full p-8 my-4 md:px-12 lg:w-9/12 lg:pl-20 lg:pr-40 mx-auto shadow-2xl rounded-2xl bg-white"
    >
      <!-- Display form data here -->
    </div>

    <!--Table to enter marks of learning outcome-->

    <div>
      <div class="flex justify-center items-center hidden" id="div2">
        <div
          class="w-full p-8 my-4 md:px-12 lg:w-9/12 lg:pl-20 lg:pr-40 mx-auto rounded-2xl shadow-2xl bg-white"
        >
          <div class="flex justify-center items-center">
            <h1 class="font-bold uppercase text-5xl" style="color: #007bff">
              Learning Details
            </h1>
          </div>
          <br /><br />
          <label style="display: inline; font-size: 16px">
            <img
              src="img/icons8-info-24.png"
              alt="Information"
              style="display: inline; vertical-align: middle"
            />
            Enter learning details </label
          ><br />
          <form id="Form2">
            <div class="w-full grid gap-5 mt-5">
              <table class="w-full bg-white rounded-lg overflow-hidden">
                <thead>
                  <tr>
                    <th class="py-2 px-4 text-left bg-gray-800 text-white">
                      Learning Outcome
                    </th>
                    <th class="py-2 px-4 text-left bg-gray-800 text-white">
                      Marks Allotted
                    </th>
                    <th class="py-2 px-4 text-left bg-gray-800 text-white">
                      Percentage
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="py-2 px-4">
                      <label>
                        <input
                          type="checkbox"
                          class="mr-2 h-6 w-6"
                          id="rememberingCheckbox"
                          onchange="toggleInput('cell1', 'percentage1', this.checked)"
                        />
                        Remembering
                      </label>
                    </td>
                    <td class="py-2 px-4">
                      <input
                        type="number"
                        class="w-full p-2 border border-gray-300"
                        id="cell1"
                        disabled
                      />
                    </td>
                    <td class="py-2 px-4">
                      <input
                        type="text"
                        class="w-full p-2 border border-gray-300"
                        id="percentage1"
                        disabled
                      />
                    </td>
                  </tr>
                  <tr>
                    <td class="py-2 px-4">
                      <label>
                        <input
                          type="checkbox"
                          class="mr-2 h-6 w-6"
                          id="understandingCheckbox"
                          onchange="toggleInput('cell2', 'percentage2', this.checked)"
                        />
                        Understanding
                      </label>
                    </td>
                    <td class="py-2 px-4">
                      <input
                        type="number"
                        class="w-full p-2 border border-gray-300"
                        id="cell2"
                        disabled
                      />
                    </td>
                    <td class="py-2 px-4">
                      <input
                        type="text"
                        class="w-full p-2 border border-gray-300"
                        id="percentage2"
                        disabled
                      />
                    </td>
                  </tr>
                  <tr>
                    <td class="py-2 px-4">
                      <label>
                        <input
                          type="checkbox"
                          class="mr-2 h-6 w-6"
                          id="applyingCheckbox"
                          onchange="toggleInput('cell3', 'percentage3', this.checked)"
                        />
                        Applying
                      </label>
                    </td>
                    <td class="py-2 px-4">
                      <input
                        type="number"
                        class="w-full p-2 border border-gray-300"
                        id="cell3"
                        disabled
                      />
                    </td>
                    <td class="py-2 px-4">
                      <input
                        type="text"
                        class="w-full p-2 border border-gray-300"
                        id="percentage3"
                        disabled
                      />
                    </td>
                  </tr>
                  <tr>
                    <td class="py-2 px-4">
                      <label>
                        <input
                          type="checkbox"
                          class="mr-2 h-6 w-6"
                          id="analysingCheckbox"
                          onchange="toggleInput('cell4', 'percentage4', this.checked)"
                        />
                        Analyze/Evaluate
                      </label>
                    </td>
                    <td class="py-2 px-4">
                      <input
                        type="number"
                        class="w-full p-2 border border-gray-300"
                        id="cell4"
                        disabled
                      />
                    </td>
                    <td class="py-2 px-4">
                      <input
                        type="text"
                        class="w-full p-2 border border-gray-300"
                        id="percentage4"
                        disabled
                      />
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="my-2 w-1/2 lg:w-1/4 mx-auto">
              <button
                class="uppercase text-sm font-bold tracking-wide bg-blue-900 text-gray-100 p-3 rounded-lg w-full focus:outline-none focus:shadow-outline mt-5 hover:bg-blue-700"
                id="confirm2"
                onclick="SubmitForm2(event)"
              >
                Confirm
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div
      id="ExcelInput"
      class="w-full p-8 my-4 md:px-12 lg:w-9/12 lg:pl-20 lg:pr-40 mx-auto rounded-2xl shadow-2xl bg-white hidden"
    >
      <div>
        <h1 class="font-bold uppercase text-3xl" style="color: #007bff">
          Upload Student Details
        </h1>
      </div>
      <div class="my-2 flex">
        <input
          type="file"
          id="fileInput"
          class="bg-gray-200 shadow-xl p-2 rounded-l-lg focus:outline-none flex-grow mr-4"
        />
        <button
          id="loadButton"
          class="uppercase text-sm font-bold tracking-wide bg-blue-900 text-gray-100 p-3 rounded-r-lg focus:outline-none hover:bg-blue-700"
          onclick="handleFileUpload(); showPrintButton()"
        >
          Load Excel
        </button>
      </div>
      <div>
        <label style="display: inline">
          <img
            src="img/icons8-info-24.png"
            alt="Information"
            style="display: inline; vertical-align: middle"
          />
          Please upload Excel file with one sheet only <br />
          <img
            src="img/icons8-info-24.png"
            alt="Information"
            style="display: inline; vertical-align: middle"
          />
          The Excel sheet should contain only three columns with the headings:
          "Sr. No," "Roll No," and "Name of the student".
        </label>
      </div>
    </div>

    <div
      class="bg-white p-4 mx-4 my-12 shadow-lg rounded-2xl hidden"
      id="gridView2"
    ></div>

    <div
      id="piechart"
      class="grid grid-cols-2 justify-center justify-items-center gap-1 my-2 p-2 hidden"
    >
      <div
        class="text-center flex flex-col justify-center items-center hidden"
        id="RememberingPie"
      >
        <h1 class="font-bold text-xl mb-4">Remembering</h1>
        <p class="text-lg">
          Percentage wise distribution of students in remembering criteria
        </p>
        <canvas
          id="column1Chart"
          class="shadow-md rounded-2xl p-8"
          width="350"
          height="350"
        ></canvas>
      </div>
      <div
        class="text-center flex flex-col justify-center items-center hidden"
        id="UnderstandingPie"
      >
        <h1 class="font-bold text-xl mb-4">Understanding</h1>
        <p class="text-lg">
          Percentage wise distribution of students in Understanding criteria
        </p>
        <canvas
          id="column2Chart"
          class="shadow-md rounded-2xl p-8"
          width="350"
          height="350"
        ></canvas>
      </div>
      <div
        class="text-center flex flex-col justify-center items-center hidden"
        id="ApplyingPie"
      >
        <h1 class="font-bold text-xl mb-4">Applying</h1>
        <p class="text-lg">
          Percentage wise distribution of students in Applying criteria
        </p>
        <canvas
          id="column3Chart"
          class="shadow-md rounded-2xl p-8"
          width="350"
          height="350"
        ></canvas>
      </div>
      <div
        class="text-center flex flex-col justify-center items-center hidden"
        id="AnalysePie"
      >
        <h1 class="font-bold text-xl mb-4">Analyze/Evaluate</h1>
        <p class="text-lg">
          Percentage wise distribution of students in Analyze/Evaluate criteria
        </p>
        <canvas
          id="column4Chart"
          class="shadow-md rounded-2xl p-8"
          width="350"
          height="350"
        ></canvas>
      </div>
    </div>

    <div id="graphDiv" class="flex justify-center w-full mt-10">
      <div class="flex justify-center" style="width: 50%; height: auto">
        <canvas id="barGraph" class="shadow-lg p-15 hidden"></canvas>
      </div>
    </div>

    <!--Table to enter marks of learning outcome ends here-->

    <!--Print Block-->

    <div
      id="printButtonContainer"
      class="flex justify-center items-center my-4"
    >
      <button
        id="printButton"
        class="uppercase text-sm font-bold tracking-wide bg-blue-900 text-gray-100 p-3 rounded-lg w-max focus:outline-none hover:bg-blue-700 focus:shadow-outline"
        hidden
      >
        Print Report
        <!-- changed from Print page -->
      </button>
    </div>
  </body>
</html>
